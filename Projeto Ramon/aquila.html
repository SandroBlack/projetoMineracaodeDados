<?php// include_once("conf/restricao.php");?>

<!DOCTYPE html lang="pt-br">
        <html>
        <head>
        <!-- ========== Título ============ -->
        <title>Formulários</title>

        <!-- ========== Metas ============ -->
        <meta charset="utf-8">

        <!-- ========== Links ============ -->
        <link rel="stylesheet" href="css/formularios.css">
        <link rel="icon" href="img/icon.png">

        <!-- ========== Scripts ============ -->

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		
		

        <script type="text/javascript">
		function verificaArray(posicao){
		document.getElementById("posicaoArray").value = posicao;
}
        $(document).ready(function(){
        var arrayConteudo = [];
        var cont = 0;
        $('#campoEscondido').css("display","none");
        $('#campoEscondidoDois').css("display","none");
            $("#duplicar").click(function() {
                
                $('#base').css("display","block");
                $('#menu').css("display","block");

                                
                arrayConteudo[cont] = "<div class='questoes' id='divPergunta"+cont+"'><input type='text' name='pergunta"+cont+"' id='pergunta"+cont+"' placeholder='Pergunta'>" +
                "<select name='selecionar"+cont+"' id='selecionar"+cont+"'>" +
                "<option value='tipoResposta' selected='selected' onClick="+verificaArray(cont)+">Tipo de resposta</option>" +
                "<option value='campoTexto' id='campoTexto"+cont+"' name='campoTexto"+cont+"'>Campo de Texto</option>" +
                "<option value='campoRadio' id='campoRadio"+cont+"' name='campoRadio"+cont+"'>Multipla Escolha</option>" +
                "<option value='campoSelecao' id='campoSelecao"+cont+"' name='campoSelecao"+cont+"'>Caixas de Seleção</option>" +
                "<option value='caixaSelecao' id='caixaSelecao"+cont+"' name='caixaSelecao"+cont+"'>Escolha variada</option>" +
                "</select></div>";
                $("#base").append(arrayConteudo[cont]);
                $('#contador').val(cont);
                cont++;        
        });
        
        $("#menu").on('click', '.excluir', function(){
            if(cont >= 0){
            var contInt = parseInt($('#contador').val());
            $("#divPergunta" + contInt + "").remove();
			arrayConteudo.splice(contInt);
			if(cont != 0)
			cont -= 1;
            $('#contador').val(cont);
            }
        });
		
		
		$(document).on('change','.questoes', function(){
		 var i = parseInt($('#posicaoArray').val());
		 
		 var contInt = parseInt($('#contador').val());
			 recebeDiv = "selecionar" + i;
			 var recebeInput = $("#"+recebeDiv+"").val();
			 
			 if(recebeInput == "campoTexto")
			 {
			 arrayConteudo[i] = "<div class='questoes' id='divPergunta"+i+"'><input type='text' name='pergunta"+i+"' id='pergunta"+i+"' placeholder='Pergunta'>" +
					"<select name='selecionar"+i+"' id='selecionar"+i+"'>" +
					"<option value='tipoResposta'>Tipo de resposta</option>" +
					"<option value='campoTexto' id='campoTexto"+i+"' name='campoTexto"+i+"' selected='selected'>Campo de texto</option>" +
					"<option value='campoRadio' id='campoRadio"+i+"' name='campoRadio"+i+"'>Múltipla Escolha</option>" +
					"<option value='campoSelecao' id='campoSeleca"+i+"o' name='campoSelecao"+i+"'>Caixas de Seleção</option>" +
					"<option value='caixaSelecao' id='caixaSelecao"+i+"' name='caixaSelecao"+i+"'>Escolha variada</option>" +
                    "</select> <input type='text' name='campo-de-texto"+i+"' placeholder='Resposta' id='campo-de-texto"+i+"' class='hide' value=''></div>";
			 }			
			 
			 else if(recebeInput == "campoRadio")
			 {
			 arrayConteudo[i] = "<div class='questoes' id='divPergunta"+i+"'><input type='text' name='pergunta"+i+"' id='pergunta"+i+"' placeholder='Pergunta'>" +
                "<select name='selecionar"+i+"' id='selecionar"+i+"'>" +
                "<option value='tipoResposta'>Tipo de resposta</option>" +
                "<option value='campoTexto' id='campoTexto"+i+"' name='campoTexto"+i+"'>Campo de texto</option>" +
                "<option value='campoRadio' id='campoRadio"+i+"' name='campoRadio"+i+"' selected='selected'>Múltipla Escolha</option>" +
                "<option value='campoSelecao' id='campoSelecao"+i+"' name='campoSelecao"+i+"'>Caixas de Seleção</option>" +
                "<option value='caixaSelecao' id='caixaSelecao"+i+"' name='caixaSelecao"+i+"'>Escolha variada</option>" +
                "</select><br>";
			 
			 var quantidade = prompt("Digite a quantidade de opções:");
			 for(var x = 0; x < quantidade; x++)
			 {
			 var valorMaisUm = x + 1;
			 var nomeRadio = prompt("Escreva o valor da opção de Número: " + valorMaisUm);
			 var valorRadio = arrayConteudo[i] + "<input type='radio' name='radio"+i+"' value='"+nomeRadio+"'>"+nomeRadio+"<br>";
			 arrayConteudo[i] = valorRadio;
			 }
			 var fecharDiv = arrayConteudo[i] + "</div>";
			 arrayConteudo[i] = fecharDiv;
			 }
			 
			 else if(recebeInput == "campoSelecao")
			 {
			 arrayConteudo[i] = "<div class='questoes' id='divPergunta"+i+"'><input type='text' name='pergunta"+i+"' id='pergunta"+i+"' placeholder='Pergunta'>" +
                "<select name='selecionar"+i+"' id='selecionar"+i+"'>" +
                "<option value='tipoResposta'>Tipo de resposta</option>" +
                "<option value='campoTexto' id='campoTexto"+i+"' name='campoTexto"+i+"'>Campo de texto</option>" +
                "<option value='campoRadio' id='campoRadio"+i+"' name='campoRadio"+i+"'>Múltipla Escolha</option>" +
                "<option value='campoSelecao' id='campoSelecao"+i+"' name='campoSelecao"+i+"' selected='selected'>Caixas de Seleção</option>" +
                "<option value='caixaSelecao' id='caixaSelecao"+i+"' name='caixaSelecao"+i+"'>Escolha variada</option>" +
                "</select><br>";

                var quantidade = prompt("Digite a quantidade de opções:");
             for(var y = 0; y < quantidade; y++)
             {
             var valorMaisMais = y + 1;
             var nomeCheckbox = prompt("Escreva o valor da opção de Número: " + valorMaisMais);
             var valorCheckbox = arrayConteudo[i] + "<input type='checkbox' name='checkbox"+i+"' value='"+nomeCheckbox+"'>"+nomeCheckbox+"<br>";
             arrayConteudo[i] = valorCheckbox;
             }
             var fecharDiv2 = arrayConteudo[i] + "</div>";
             arrayConteudo[i] = fecharDiv2;
			 			 
			 }

             else if(recebeInput == "caixaSelecao")
             {
             arrayConteudo[i] = "<div class='questoes' id='divPergunta"+i+"'><input type='text' name='pergunta"+i+"' id='pergunta"+i+"' placeholder='Pergunta'>" +
                "<select name='selecionar"+i+"' id='selecionar"+i+"'>" +
                "<option value='tipoResposta'>Tipo de resposta</option>" +
                "<option value='campoTexto' id='campoTexto"+i+"' name='campoTexto"+i+"'>Campo de texto</option>" +
                "<option value='campoRadio' id='campoRadio"+i+"' name='campoRadio"+i+"' selected='selected'>Múltipla Escolha</option>" +
                "<option value='campoSelecao' id='campoSelecao"+i+"' name='campoSelecao"+i+"'>Caixas de Seleção</option>" +
                "<option value='caixaSelecao' id='caixaSelecao"+i+"' name='caixaSelecao"+i+"'>Escolha variada</option>" +
                "</select><br>" +
                 "<select>";

                var quantidade = prompt("Digite a quantidade de opções para o campo de selecao:");
             for(var z = 0; z < quantidade; z++)
             {
             var valorMaisPlus = z + 1;
             var nomeSelect = prompt("Escreva o valor de cada: " + valorMaisPlus);
             var valorSelect = arrayConteudo[i] + "<option name='option"+i+"' value='"+nomeSelect+"'>"+nomeSelect+"<br>";
             arrayConteudo[i] = valorSelect;
             }
             var fecharDiv3 = arrayConteudo[i] + "</select></div>";
             arrayConteudo[i] = fecharDiv3;

            }
			 
			 else if(recebeInput == "tipoResposta")
			 {
			 arrayConteudo[i] = "<div class='questoes' id='divPergunta"+i+"'><input type='text' name='pergunta"+i+"' id='pergunta"+i+"' placeholder='Pergunta'>" +
                "<select name='selecionar"+i+"' id='selecionar"+i+"'>" +
                "<option value='tipoResposta' selected='selected'>Tipo de resposta</option>" +
                "<option value='campoTexto' id='campoTexto"+i+"' name='campoTexto"+i+"'>Campo de texto</option>" +
                "<option value='campoRadio' id='campoRadio"+i+"' name='campoRadio"+i+"'>Múltipla Escolha</option>" +
                "<option value='campoSelecao' id='campoSelecao"+i+"' name='campoSelecao"+i+"' >Caixas de Seleção</option>" +
                "<option value='caixaSelecao' id='caixaSelecao"+i+"' name='caixaSelecao"+i+"'>Escolha variada</option>" +
                "</select></div>";
			 			 
			 }
		 $("#base").text("");
		 for(var i = 0; i <= contInt; i++)
		 {
			 $("#base").append(arrayConteudo[i]);
		 }
		
		});
		
		
        });

        </script>

        </head>


        <body>
        <!-- ======== Cabeçalho ========== -->
        <header id="cabecalho">
        <button class="botao">Enviar</button>
        </header><!-- ======== Fim do cabeçalho ==========-->
        <!-- ====== container ====== -->
        <div class="container">
        <div class="area" align="center">
        <br>
        <h1>Seu formulário</h1>
        <br>
        </div>
        <!-- ============== Campo de Título ===============-->
        <form class="titulo" >
        <input type="text" name="titulo" id="titulo" placeholder="Título do formulário" maxlength="30"><br><br>
        <input type="text" name="descricao" id="descricao" placeholder="Descrição do formulário" maxlength="30" size="90%"><br><br>
        </form>
        <br><br>

        <!-- ============== Campo de resposta ===============-->
        <div id="base">
        <form id="perguntas">
		
        </div><!-- Fim da Base -->
        <div class="barra-inferior" id="menu">
        <div class="area-botoes">
        <img src="img/Defult Text.png" class="dublicar" id="duplicar" title="adicionar uma pergunta">       
        <img src="img/delete_remove_bin_icon-icons.com_72400.png" class="excluir" id="exclusao" title="excluir a ultima pergunta adicionada">
        </div>
        </div><!-- Fim da barra inferior -->
        </div><!-- Fim do container -->

        <div id="campoEscondido"><input name="contador" id="contador" type="hidden" value=""><input name="posicaoArray" id="posicaoArray" type="hidden" value="">
		</div>
		<div id="campoEscondidoDois"><input name="posicaoArray" id="posicaoArray" type="hidden" value="">
		</div>
        </body>


        </html>